<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
	/* 사이드바 전체 높이를 잡아주는 CSS */
	.navbar-nav {
	    display: flex;
	    flex-direction: column;
	    height: 100vh; /* 화면 전체 높이 */
	}

	.logout-section {
	    margin-top: auto; /* 사이드바의 가장 아래로 배치 */
	    border-top: 1px solid rgba(255, 255, 255, 0.3); /* 구분선 추가 */
	    padding-top: 10px;
	}

	.logout-section .nav-link {
	    text-align: center;
	    color: #fff; /* 텍스트 색상 */
	}

	.logout-section .nav-link:hover {
	    color: #d1d1d1; /* 호버 시 색상 */
	}

	.logout-section i {
	    font-size: 1.2rem;
	}
</style>
</head>
<body>
        <!-- Sidebar -->
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar" th:fragment="sidebarFragment">

            <!-- Sidebar - Brand -->
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="/admin/banner">
                <div class="sidebar-brand-text mx-3">YEJO Interior</div>
            </a>

            <!-- Divider -->
            <hr class="sidebar-divider">

            <!-- Heading -->
            <div class="sidebar-heading">
                Settings for admin
            </div>
            
            <!-- Nav Item - Pages Collapse Menu -->
            <li class="nav-item">
                <a class="nav-link" href="banner">
                    <i class="fas fa-fw fa-cog"></i>
                    <span>배너</span>
                </a>
            </li>

            <!-- Nav Item - Utilities Collapse Menu -->
            <li class="nav-item">
                <a class="nav-link" href="about">
                    <i class="fas fa-fw fa-wrench"></i>
                    <span>회사소개</span>
                </a>
            </li>

            <!-- Nav Item - Pages Collapse Menu -->
            <li class="nav-item">
                <a class="nav-link"href="portfolio">
                    <i class="fas fa-fw fa-folder"></i>
                    <span>포트폴리오</span>
                </a>
            </li>

            <!-- Nav Item - Charts -->
            <li class="nav-item">
                <a class="nav-link" href="estimate">
                    <i class="fas fa-fw fa-chart-area"></i>
                    <span>견적문의</span></a>
            </li>
            
            <!-- Nav Item - Charts -->
            <li class="nav-item">
                <a class="nav-link" href="policy">
                    <i class="fas fa-lock" style="width: 17px;"></i>
                    <span>개인정보처리방침</span></a>
            </li>
            
            <!-- Nav Item - Tables -->
            <li class="nav-item">
                <a class="nav-link" href="location">
                    <i class="fas fa-fw fa-map-marker"></i>
                    <span>위치</span></a>
            </li>

            <!-- Nav Item - Tables -->
            <li class="nav-item">
                <a class="nav-link" href="review-management">
                    <i class="fas fa-fw fa-table"></i>
                    <span>후기</span></a>
            </li>
            
            <!-- Nav Item - Tables -->
            <li class="nav-item">
                <a class="nav-link" href="popup">
                    <i class="fas fa-fw fa-envelope"></i>
                    <span>팝업</span></a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link" href="kakao">
                    <i class="fas fa-fw fa-coins"></i>
                    <span>토큰 갱신</span></a>
            </li>
            
            <!-- Nav Item - Tables -->
            <!-- <li class="nav-item">
                <a class="nav-link" href="company-info">
                    <i class="fas fa-fw fa-clipboard-list"></i>
                    <span>회사정보</span></a>
            </li> -->
			<!-- Logout Section -->
			<li class="nav-item logout-section">
			    <a class="nav-link" href="#" onclick="logout(); return false;">
			        <i class="fas fa-fw fa-sign-out-alt"></i>
			        <span>로그아웃</span>
			    </a>
			</li>
			
			<script>
				function logout() {
				    fetch('/admin/logout', {
				        method: 'POST',
				        headers: {
				            'Content-Type': 'application/json'
				        },
				    })
				    .then(response => {
				        if (response.redirected) {
				            window.location.href = response.url; // 리다이렉트된 URL로 이동
				        } else {
				            console.error('로그아웃 실패');
				        }
				    })
				    .catch(error => {
				        console.error('Error during logout:', error);
				    });
				}
			</script>
        </ul>
        <!-- End of Sidebar -->
</body>
</html>